<div class="ws fl">
  <div class="toolbox fl-g0 fl fl-column">
    <!--div class="handle" zn-draggable target=".toolbox"><i class="fas fa-ellipsis-h"></i></div-->
    <div class="diagram-info fl-g0" ng-click="view.showEditDiagramInfoDialog()">
      {{view.diagram.name}}
    </div>
    <div class="file-actions fl-g0">
      <a class="action" ng-click="view.triggerImportDiagram($event)"><i class="fas fa-folder-open"></i><span class="text">Open Diagram</span></a>
      <a class="action" ng-click="view.exportDiagram($event)"><i class="fas fa-save"></i><span class="text">Save Diagram</span></a>
      <a class="action" ng-click="view.downloadAsPNG($event)"><i class="far fa-file-image"></i><span class="text">Export Image</span></a>
      <a class="action" ng-click="view.clearWS($event)"><i class="fas fa-eraser"></i><span class="text">Clear</span></a>
    </div>
    <div class="tool-actions fl-g1">
      <a class="action fl fl-ac" ng-repeat="item in view.toolActions" ng-click="view.onToolAction($event, item.action)">
        <img ng-src="{{env.images}}/icons/v2/{{item.icon}}" class="fl-g0"><span class="text fl-g1">{{item.text}}</span>
      </a>
    </div>
    <div class="filler fl-g0">&nbsp;</div>
  </div>
  
  <div zn-surface name="surface" class="surface fl-g1" index=1
  onposition="view.onSurfacePosition($event)"
  onobjselect="view.onObjectSelect($event)"
  onobjcreate="view.onObjectCreate($event)"
  onrelselect="view.onRelSelect($event)"
  onrelcreate="view.onRelCreate($event)"
  onselectionchange="view.onSelectionChange($event)"
  ondelete="view.onDelete($event)"
  onstageselect="view.onStageSelect($event)"
  onobjrectupdate="view.onObjectRectUpdate($event)"
  ></div>
  
  <div class="property-sheets fl-g0" zn-template="editor/property-sheets.html"></div>
</div>

<a href="#download" class="download">Download</a>
<input type="file" class="upload"/>

<div zn-dialog name="edit-diagram-info-dialog" dialogtitle="Edit Diagram Info" actions="view.dialogActions.OKCANCEL" onaction="view.onEditDiagramInfoDialogAction($event)">
  <div class="edit-form fl fl-column">
    <div zn-textfield class="fl-g0" name="diagram-name" label="Name" value="view.diagram.name"></div>
    <div zn-textarea class="fl-g1" name="diagram-descr" label="Description" value="view.diagram.descr"></div>
  </div>
</div>

<template class="import-data">{"shapes":[{"type":"list","rect":{"x":505,"y":205,"width":150,"height":325},"ctx":{"name":"shape-0","text":"PERSON","list":[{"text":"ID","$level":0},{"text":"Name","$level":0},{"text":"Address","$level":0},{"text":"Street","$level":1},{"text":"City","$level":1},{"text":"State","$level":1},{"text":"ZipCode","$level":1},{"text":"Contact Details","$level":0},{"text":"Home Phone","$level":1},{"text":"Office","$level":1},{"text":"Mobile Phone","$level":1},{"text":"EMail ID","$level":1}]},"oid":"2k9ic6vt6o37x4ix6qt"},{"type":"list","rect":{"x":790,"y":190,"width":150,"height":125},"ctx":{"name":"shape-1","text":"ADDRESS","list":[{"text":"Street","$level":0},{"text":"City","$level":0},{"text":"State","$level":0},{"text":"ZipCode","$level":0}]},"oid":"mk8ib6qt83ixpomy3qq"},{"type":"list","rect":{"x":795,"y":440,"width":150,"height":125},"ctx":{"name":"shape-2","text":"CONTACT","list":[{"text":"Home Phone","$level":0},{"text":"Office","$level":0},{"text":"Mobile Phone","$level":0},{"text":"EMail ID","$level":0}]},"oid":"tkxiz67trgrq6hsy51w"},{"type":"ellipse","rect":{"x":65,"y":165,"width":70,"height":70},"ctx":{"name":"shape-3","text":"Receive"},"oid":"fkuih6rtnz0x8foylbo"},{"type":"ellipse","rect":{"x":65,"y":565,"width":70,"height":70},"ctx":{"name":"shape-4","text":"Return"},"oid":"ckaib60tmyok7dyovc"},{"type":"rectangle","rect":{"x":250,"y":175,"width":100,"height":50},"ctx":{"name":"shape-5","text":"Invoke"},"oid":"bktii62t9zfl5oayrnm"},{"type":"diamond","rect":{"x":255,"y":355,"width":90,"height":90},"ctx":{"name":"shape-6","text":"Check"},"oid":"7knit6ctl9rbr9dz0y9"},{"type":"pill","rect":{"x":250,"y":580,"width":100,"height":40},"ctx":{"name":"shape-7","text":"Assign"},"oid":"ukzif6ltrhrzslizh90"}],"lines":[{"name":"/2k9ic6vt6o37x4ix6qt/item$2/right-/mk8ib6qt83ixpomy3qq/item$/left","from":{"name":"right","text":"Right","parent":{"name":"item$2","index":2,"list":"2k9ic6vt6o37x4ix6qt","type":"list-item","text":"Address","$level":0,"oid":"ok4ii6ktriechex6r0"},"direction":"right"},"to":{"name":"left","text":"Left","parent":{"name":"item$","list":"mk8ib6qt83ixpomy3qq","type":"list-header","text":"ADDRESS","oid":"rkwid63t2gejsgry3qq"},"direction":"left"},"oid":"bkdic6vtdslqefbyewm"},{"name":"/2k9ic6vt6o37x4ix6qt/item$7/right-/tkxiz67trgrq6hsy51w/item$/left","from":{"name":"right","text":"Right","parent":{"name":"item$7","index":7,"list":"2k9ic6vt6o37x4ix6qt","type":"list-item","text":"Contact Details","$level":0,"oid":"ak6ib6wtd49galrx6r3"},"direction":"right"},"to":{"name":"left","text":"Left","parent":{"name":"item$","list":"tkxiz67trgrq6hsy51w","type":"list-header","text":"CONTACT","oid":"zkiig68t9fyu3toy51w"},"direction":"left"},"oid":"rknie6vt3d5urzyhal"},{"name":"/shape-3/right-/shape-5/left","from":{"name":"right","text":"Right","parent":{"name":"shape-3","text":"Receive","oid":"fkuih6rtnz0x8foylbo"},"direction":"right"},"to":{"name":"left","text":"Left","parent":{"name":"shape-5","text":"Invoke","oid":"bktii62t9zfl5oayrnm"},"direction":"left"},"oid":"uktis64tf2jcs5byyeb"},{"name":"/shape-5/bottom-/shape-6/top","from":{"name":"bottom","text":"Bottom","parent":{"name":"shape-5","text":"Invoke","oid":"bktii62t9zfl5oayrnm"},"direction":"bottom"},"to":{"name":"top","text":"Top","parent":{"name":"shape-6","text":"Check","oid":"7knit6ctl9rbr9dz0y9"},"direction":"top"},"oid":"hkui062thl1325uzcdh"},{"name":"/shape-6/right-/2k9ic6vt6o37x4ix6qt/item$/left","from":{"name":"right","text":"Right","parent":{"name":"shape-6","text":"Check","oid":"7knit6ctl9rbr9dz0y9"},"direction":"right"},"to":{"name":"left","text":"Left","parent":{"name":"item$","list":"2k9ic6vt6o37x4ix6qt","type":"list-header","text":"PERSON","oid":"ukbid6htccfv52x6qu"},"direction":"left"},"oid":"lkrip6jt17ljzxnzehu"},{"name":"/shape-6/bottom-/shape-7/top","from":{"name":"bottom","text":"Bottom","parent":{"name":"shape-6","text":"Check","oid":"7knit6ctl9rbr9dz0y9"},"direction":"bottom"},"to":{"name":"top","text":"Top","parent":{"name":"shape-7","text":"Assign","oid":"ukzif6ltrhrzslizh90"},"direction":"top"},"oid":"8k4io6htoseyrxwzlmq"},{"name":"/shape-7/left-/shape-4/right","from":{"name":"left","text":"Left","parent":{"name":"shape-7","text":"Assign","oid":"ukzif6ltrhrzslizh90"},"direction":"left"},"to":{"name":"right","text":"Right","parent":{"name":"shape-4","text":"Return","oid":"ckaib60tmyok7dyovc"},"direction":"right"},"oid":"2kgir6jtmdppo6xzn8p"}]}</template>